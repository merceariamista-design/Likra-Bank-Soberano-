<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Likra Bank K$</title>

<style>
body{
    background:#0b0b0b;
    color:#e6e6e6;
    font-family:Arial, sans-serif;
}
header{
    background:#121212;
    padding:15px;
    text-align:center;
    font-size:26px;
    font-weight:bold;
}
.container{
    padding:15px;
}
.box{
    background:#161616;
    border:1px solid #333;
    border-radius:6px;
    padding:12px;
    margin-bottom:15px;
}
button{
    background:#1f8cff;
    border:none;
    color:#fff;
    padding:7px 12px;
    border-radius:4px;
    cursor:pointer;
    margin:3px 0;
}
button:hover{
    background:#0f6ddb;
}
input{
    width:100%;
    padding:6px;
    margin:5px 0;
}
.flex{
    display:flex;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
}
.green{color:#3cff6a;}
.red{color:#ff4d4d;}
.small{font-size:13px;color:#aaa;}
.log{
    max-height:200px;
    overflow-y:auto;
    font-size:13px;
    background:#0f0f0f;
    padding:6px;
}
</style>
</head>

<body>

<header>LIKRA BANK K$</header>

<div class="container">

<div class="box">
<h3>Saldo</h3>
<p>Likra: <strong id="saldo">0</strong> K$</p>
<p class="small">Investido: <span id="investido">0</span> K$</p>
</div>

<div class="box">
<h3>Câmbio Internacional</h3>
<p class="small">Taxa: 3,7%</p>

<div class="flex">
<div>
<strong>Ouro (OR £)</strong><br>
Preço: <span id="ouro"></span><br>
<button onclick="comprarMoeda('ouro')">Comprar</button>
<button onclick="venderMoeda('ouro')">Vender</button>
</div>

<div>
<strong>Petra (PT €)</strong><br>
Preço: <span id="petra"></span><br>
<button onclick="comprarMoeda('petra')">Comprar</button>
<button onclick="venderMoeda('petra')">Vender</button>
</div>

<div>
<strong>Baxe (BX ¥)</strong><br>
Preço: <span id="baxe"></span><br>
<button onclick="comprarMoeda('baxe')">Comprar</button>
<button onclick="venderMoeda('baxe')">Vender</button>
</div>
</div>
</div>

<div class="box">
<h3>Fundo Soberano Likra</h3>
<p>Saldo: <strong id="fundo"></strong> K$</p>
</div>

<div class="box">
<h3>Empréstimos</h3>
<p class="small">Juros: 1,8% ao dia</p>
<input type="number" id="valorEmprestimo" placeholder="Valor">
<button onclick="emprestimo()">Solicitar</button>
<button onclick="pagarEmprestimo()">Pagar</button>
</div>

<div class="box">
<h3>Títulos Likra Bank</h3>
<p class="small">0,6% ao mês | Pagamento após 14 dias</p>
<button onclick="emitirTitulo()">Emitir Título</button>
</div>

<div class="box">
<h3>Imóveis Likra</h3>
<p class="small">Taxa sobre aluguel: 0,23%</p>
<button onclick="comprarImovel()">Comprar Imóvel</button>
<button onclick="receberAluguel()">Receber Aluguel</button>
</div>

<div class="box">
<h3>Ações Likra Bank</h3>
<p>Preço da ação: <strong id="precoAcao"></strong> K$</p>
<p>Variação: <span id="variacao"></span></p>
<button onclick="comprarAcao()">Comprar</button>
<button onclick="venderAcao()">Vender</button>
</div>

<div class="box">
<h3>Histórico</h3>
<div id="historico" class="log"></div>
</div>

</div>

<script>
let data = JSON.parse(localStorage.getItem("likra")) || {
    saldo:3000,
    fundo:7000000000,
    investido:0,
    emprestimo:0,
    imoveis:0,
    moedas:{
        ouro:23.66,
        petra:34.89,
        baxe:4.89
    },
    precoAcao:100,
    historico:[]
};

function salvar(){
    localStorage.setItem("likra", JSON.stringify(data));
}

function log(txt){
    data.historico.unshift(new Date().toLocaleString()+" - "+txt);
    if(data.historico.length>50) data.historico.pop();
    salvar();
    render();
}

function render(){
    saldo.innerText=data.saldo.toFixed(2);
    fundo.innerText=data.fundo.toLocaleString();
    investido.innerText=data.investido.toFixed(2);
    ouro.innerText=data.moedas.ouro.toFixed(2);
    petra.innerText=data.moedas.petra.toFixed(2);
    baxe.innerText=data.moedas.baxe.toFixed(2);
    precoAcao.innerText=data.precoAcao.toFixed(2);
    variacao.innerText=((Math.random()*2-1).toFixed(2))+"%";
    historico.innerHTML=data.historico.join("<br>");
}

function variacaoMercado(){
    for(let m in data.moedas){
        data.moedas[m]*=(1+(Math.random()*0.04-0.02));
    }
    data.precoAcao*=(1+(Math.random()*0.05-0.025));
    salvar();
    render();
}

function comprarMoeda(m){
    let custo=data.moedas[m]*1.037;
    if(data.saldo>=custo){
        data.saldo-=custo;
        data.fundo+=data.moedas[m]*0.037;
        log("Compra de "+m);
    }
}

function venderMoeda(m){
    let ganho=data.moedas[m]*0.963;
    data.saldo+=ganho;
    data.fundo+=data.moedas[m]*0.037;
    log("Venda de "+m);
}

function emprestimo(){
    let v=Number(valorEmprestimo.value);
    if(v>0){
        data.emprestimo+=v;
        data.saldo+=v;
        log("Empréstimo tomado: "+v);
    }
}

function pagarEmprestimo(){
    let juros=data.emprestimo*0.018;
    let total=data.emprestimo+juros;
    if(data.saldo>=total){
        data.saldo-=total;
        data.fundo+=juros;
        data.emprestimo=0;
        log("Empréstimo quitado");
    }
}

function emitirTitulo(){
    log("Título emitido");
}

function comprarImovel(){
    if(data.saldo>=1000){
        data.saldo-=1000;
        data.imoveis++;
        log("Imóvel comprado");
    }
}

function receberAluguel(){
    let ganho=data.imoveis*120;
    let taxa=ganho*0.0023;
    data.saldo+=ganho-taxa;
    data.fundo+=taxa;
    log("Aluguel recebido");
}

function comprarAcao(){
    if(data.saldo>=data.precoAcao){
        data.saldo-=data.precoAcao;
        data.investido+=data.precoAcao;
        log("Compra de ação");
    }
}

function venderAcao(){
    if(data.investido>=data.precoAcao){
        data.saldo+=data.precoAcao;
        data.investido-=data.precoAcao;
        log("Venda de ação");
    }
}

setInterval(variacaoMercado, 10000);
render();
</script>

</body>
</html>
